å¤§å®¶å¥½å‘€ï¼Œæˆ‘æ˜¯å¸…è›‹ã€‚

ä»Šå¤©è§£å†³**äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®**ï¼Œè¿™é“é¢˜çœ‹ç€åå­—æŒºå”¬äººï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å’Œã€[**éªŒè¯äºŒå‰æœç´¢æ ‘**](https://mp.weixin.qq.com/s/I8kEYkfzLe7Tdqbr9Nqang)ã€‘ä¸€æ ·ï¼Œä»äºŒå‰æ ‘æœç´¢æ ‘çš„æ€§è´¨å…¥æ‰‹ï¼Œä¸€å‡»å¿…ä¸­ã€‚

è¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€æ•´ï¼

![530-0.png](https://pic.leetcode-cn.com/1657159829-XLHSxY-530-0.png)

# LeetCode 530ï¼šäºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®

## é¢˜æ„

ç»™ä½ ä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ rootï¼Œè¿”å›æ ‘ä¸­ä»»æ„ä¸¤ä¸åŒèŠ‚ç‚¹å€¼ä¹‹é—´çš„æœ€å°å·®å€¼ã€‚

å·®å€¼æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œå…¶æ•°å€¼ç­‰äºä¸¤å€¼åªå·®çš„ç»å¯¹å€¼ã€‚

## ç¤ºä¾‹

è¾“å…¥ï¼šroot = [4,2,6,1,3]
è¾“å‡ºï¼š1

![530-1.png](https://pic.leetcode-cn.com/1657159836-EEVvle-530-1.png)

## æç¤º

- æ ‘ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´æ˜¯ [2, 10^4]ã€‚
- 0 <= Node.val <= 10^5

# é¢˜ç›®è§£æ

äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å€¼å·®ï¼Œéš¾åº¦ç®€å•ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªéš¾åº¦è¯„çº§æ‰ç®—çš„ä¸Šå®ƒçš„å½’å®¿ã€‚

![530-8.png](https://pic.leetcode-cn.com/1657159844-SdBEQh-530-8.png)

å…¶å®è¿™é“é¢˜å’Œæˆ‘ä»¬ä¹‹å‰åšè¿‡çš„ã€[**éªŒè¯äºŒå‰æœç´¢æ ‘**](https://mp.weixin.qq.com/s/I8kEYkfzLe7Tdqbr9Nqang)ã€‘çš„è§£æ³•æ˜¯ä¸€æ ·çš„ï¼Œç”¨åˆ°çš„ä¹Ÿè¿˜æ˜¯**äºŒå‰æœç´¢æ ‘è¿›è¡Œä¸­åºéå†æ—¶ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªæœ‰åºçš„åºåˆ—**è¿™ä¸ªæ€§è´¨ã€‚

å¦‚æœè¿˜ä¸æ¸…æ¥šäºŒå‰æœç´¢æ ‘çš„ï¼Œå¯ä»¥çœ‹æˆ‘ä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼š

[ACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æœç´¢æ ‘ï¼](https://mp.weixin.qq.com/s/DsWb4oXeOWsCRiuPRwJysg)

æ‰€ä»¥ä¸­éå†åï¼Œè¿™é“é¢˜å°±å˜æˆäº†â€œåœ¨ä¸€ä¸ªæœ‰åºåºåˆ—ä¸­æ‰¾æœ€å°ç»å¯¹å·®â€è¿™ç§éš¾åº¦ä¸º 0 çš„é¢˜ç›®ã€‚

![530-9.jpg](https://pic.leetcode-cn.com/1657159855-OyQCne-530-9.jpg)

# é€’å½’ç‰ˆ

æ ¹æ®ä¸Šé¢è®²çš„ï¼Œé‚£äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®çš„é€’å½’æ³•å…¶å®å°±æ˜¯äºŒå‰æ ‘ä¸­åºéå†çš„é€’å½’æ³•ã€‚

[ACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘å‰ä¸­ååºéå†ï¼ˆé€’å½’ç‰ˆï¼‰](https://mp.weixin.qq.com/s/8O7cIqyU6Ecpcq3Nj_e_0Q)

ä½†å‡¡æ˜¯é€’å½’æˆ‘ä»¬å°±åˆ†ä¸ºä¸¤æ­¥æ¥çœ‹ï¼š

**(1) æ‰¾å‡ºé‡å¤çš„å­é—®é¢˜ã€‚**

ä¸­åºéå†çš„é¡ºåºæ˜¯ï¼šå·¦å­æ ‘ã€æ ¹ã€å³å­æ ‘ã€‚

å¯¹äºå·¦å­æ ‘ã€å³å­æ ‘æ¥è¯´ï¼Œä¹Ÿæ˜¯åŒæ ·çš„éå†é¡ºåºã€‚

æ‰€ä»¥è¿™ä¸ªé‡å¤çš„å­é—®é¢˜å°±æ˜¯ï¼š**å…ˆéå†å·¦å­æ ‘ã€å†å–æ ¹èŠ‚ç‚¹ï¼Œæœ€åéå†å³å­æ ‘**ã€‚

* Python

```Python
inOrder(root.left)
print(root.val)
inOrder(root.right)
```

**(2) ç¡®å®šç»ˆæ­¢æ¡ä»¶ã€‚**

å’Œä¸­åºéå†ç›¸åŒï¼Œå°±æ˜¯å½“å‰çš„èŠ‚ç‚¹ä¸ºç©ºï¼Œç©ºçš„æ²¡å•¥å¥½éå†çš„ã€‚

* python

```python
if root == None:
    return 
```

æœ€é‡è¦çš„ä¸¤ç‚¹ç¡®å®šå®Œäº†ï¼Œç„¶åä»£ç åŸºæœ¬ä¸Šå°±å‡ºæ¥ã€‚

**æœ€åè®°å¾—åœ¨ä¸»å‡½æ•°ä¸­åšæœ€å°ç»å¯¹å·®åˆ¤æ–­å³å¯ã€‚**

## Python ä»£ç å®ç°

* Python

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    # ä¸­åºéå†
    def inOrder(self, root: TreeNode, res):
        if root == None:
            return
        self.inOrder(root.left, res)
        res.append(root.val)
        self.inOrder(root.right, res)

    def getMinimumDifference(self, root: TreeNode) -> int:
        res = []
        minRes = float('inf')
        self.inOrder(root, res)
        # æ±‚æœ€å°ç»å¯¹å·®
        for i in range(len(res) - 1):
            minRes = min(abs(res[i] - res[i + 1]), minRes)

        return minRes
```

## Java ä»£ç å®ç°

* Java

```Java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    // ä¸­åºéå†
    public void inOrder(TreeNode root, List<Integer> res) {
        if (root == null) {
            return;
        }
        inOrder(root.left, res);
        res.add(root.val);
        inOrder(root.right, res);
    }

    public int getMinimumDifference(TreeNode root) {
        List<Integer> res = new ArrayList<Integer>();
        int minRes = Integer.MAX_VALUE;
        inOrder(root, res);
        // æ±‚æœ€å°ç»å¯¹å·®
        for(int i = 0; i < res.size() - 1; i++){
            minRes = Math.min(res.get(i+1) - res.get(i), minRes);
        }
        return minRes;
    }
}
```

æ­¤è§£æ³•ï¼Œä¸­åºéå†æ¯ä¸ªèŠ‚ç‚¹è¢«éå†ä¸€æ¬¡ï¼Œæ‰€ä»¥**æ—¶é—´å¤æ‚åº¦ä¸º O(n)**ã€‚

æ­¤å¤–åœ¨é€’å½’è¿‡ç¨‹ä¸­è°ƒç”¨äº†é¢å¤–çš„æ ˆç©ºé—´ï¼Œç»´æŠ¤äº†ä¸€ä¸ª res çš„ç»“æœæ•°ç»„ï¼Œæ‰€ä»¥**ç©ºé—´å¤æ‚åº¦ä¸º O(n)**ã€‚

# éé€’å½’æ³•ï¼ˆè¿­ä»£ï¼‰

å¯¹äºä¸­åºéå†è€Œè¨€ï¼Œ**å¤„ç†èŠ‚ç‚¹æ˜¯åœ¨éå†å®Œå·¦å­æ ‘ä¹‹å**ã€‚

ç›´ç™½ç‚¹å°±æ˜¯ï¼š**ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€å±‚å±‚çš„éå†ï¼Œæ‰¾åˆ°å·¦å­æ ‘æœ€å·¦çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œä»å®ƒå¼€å§‹å¤„ç†èŠ‚ç‚¹ã€‚**

å¦‚æœå¯¹éé€’å½’çš„äºŒå‰æ ‘ä¸­åºéå†ä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼š

[ACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘å‰ä¸­ååºéå†ï¼ˆéé€’å½’ç‰ˆï¼‰](https://mp.weixin.qq.com/s/5m0AACLIIve26cFbjjsCVQ)

å¸¸è§„çš„**ä¸­åºéå†å…·ä½“æ­¥éª¤**å¦‚ä¸‹æ‰€ç¤ºï¼š

- åˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆã€‚

- å½“ã€æ ¹èŠ‚ç‚¹ä¸ä¸ºç©ºã€‘æˆ–è€…ã€æ ˆä¸ä¸ºç©ºã€‘æ—¶ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹

- - è‹¥å½“å‰èŠ‚ç‚¹æœ‰å·¦å­æ ‘ï¼Œä¸€ç›´éå†å·¦å­æ ‘ï¼Œæ¯æ¬¡å°†å½“å‰èŠ‚ç‚¹å‹å…¥æ ˆä¸­ã€‚
  - è‹¥å½“å‰èŠ‚ç‚¹æ— å·¦å­æ ‘ï¼Œä»æ ˆä¸­å¼¹å‡ºè¯¥èŠ‚ç‚¹ï¼Œå°è¯•è®¿é—®è¯¥èŠ‚ç‚¹çš„å³å­æ ‘ã€‚

åœ¨æˆ‘ä»¬è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ¤æ–­ã€æœ‰åºåºåˆ—çš„æœ€å°ç»å¯¹å·®ã€‘ã€‚

å¯¹äºæœ‰åºåºåˆ—æ¥è¯´ï¼Œæ±‚ä»»æ„çš„ä¸¤ä¸ªå…ƒç´ ä¹‹å·®çš„ç»å¯¹å€¼çš„æœ€å°å€¼ï¼Œä¸€å®šå°±æ˜¯ä¸¤ä¸ªç›¸é‚»å…ƒç´ å·®çš„æœ€å°å€¼ã€‚

è¿™å°±éœ€è¦æˆ‘ä»¬åœ¨ä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹çš„æ—¶å€™ï¼Œç”¨å½“å‰èŠ‚ç‚¹å€¼å‡å»ä¸Šä¸€æ¬¡å¼¹å‡ºçš„èŠ‚ç‚¹å€¼ï¼Œç”¨æ¥ä¸ minRes æ¯”è¾ƒï¼Œç»´æŠ¤æœ€å°å€¼ minResã€‚

![530-10.jpg](https://pic.leetcode-cn.com/1657159869-GqujWI-530-10.jpg)

ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼š

![530-2.png](https://pic.leetcode-cn.com/1657159873-AfkGLj-530-2.png)

é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªç©ºæ ˆ stackã€ä¸€ä¸ªè®°å½•æœ€å°å€¼ minRes å’Œä¸€ä¸ªä¿å­˜å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ preã€‚

![530-3.png](https://pic.leetcode-cn.com/1657159878-aeejBL-530-3.png)

* Python

```Python
stack = []
# è®°å½•æœ€å°å€¼
minRes = float('inf')
# è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
pre = None
```

ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€ç›´å‘å·¦å­æ ‘éå†ï¼ŒåŒæ—¶å°†å½“å‰çš„èŠ‚ç‚¹å‹å…¥æ ˆä¸­ã€‚

![530-4.png](https://pic.leetcode-cn.com/1657159884-lWEfLa-530-4.png)

* Python

```Python
# ä¸€ç›´å‘å·¦å­æ ‘èµ°ï¼Œæ¯ä¸€æ¬¡å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­
if root:
    stack.append(root)
    root = root.left
```

å½“å‰èµ°åˆ°äº†æœ€å·¦é¢ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œæ­¤æ—¶ cur = 1ï¼Œpre ä¸ºç©ºï¼Œè®© pre = curã€‚

![530-5.png](https://pic.leetcode-cn.com/1657159891-CoqePO-530-5.png)

* Python

```Python
cur = stack.pop()
# æ±‚æœ€å°ç»å¯¹å·®
if pre:
    minRes = min(cur.val - pre.val, minRes)
pre = cur
root = cur.right
```

å¼¹å‡ºçš„èŠ‚ç‚¹ 1 æ— å³å­æ ‘ï¼Œç»§ç»­é‡å¤ä¸Šè¿°çš„åŠ¨ä½œã€‚

å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œæ­¤æ—¶ cur  = 2ï¼Œpre = 1ï¼ŒminRes = infï¼Œæ­¤æ—¶ pre ä¸ä¸ºç©ºï¼ŒminRes = min(cur.val - pre.val, minRes) = min(1, inf) = 1ã€‚

![530-6.png](https://pic.leetcode-cn.com/1657159898-FSACAJ-530-6.png)

æ­¤æ—¶è®© pre = curï¼ŒåŒæ—¶å½“å‰çš„èŠ‚ç‚¹ 2 æœ‰å³å­æ ‘ï¼Œéå†å…¶å³å­æ ‘ï¼Œéå†åˆ°çš„èŠ‚ç‚¹å…¥æ ˆã€‚

![530-7.png](https://pic.leetcode-cn.com/1657159903-STLpsI-530-7.png)

ä¹‹åçš„æ­¥éª¤å…¶å®å°±å’Œä¸Šé¢ä¸€æ ·ï¼Œä¸æ–­å‡ºæ ˆã€å…¥æ ˆï¼Œç»´æŠ¤ pre å’Œ minRes çš„å€¼ï¼Œç›´è‡³æ ˆä¸ºç©ºã€‚

æœ€åè¿”å› minRes = 1ã€‚

![530-11.jpg](https://pic.leetcode-cn.com/1657159909-YezJyq-530-11.jpg)

## Python ä»£ç å®ç°

* Python

```Python
# Definition for a binary tree node.
# class TreeNode:
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def getMinimumDifference(self, root: TreeNode) -> int:
        stack = []
        # è®°å½•æœ€å°å€¼
        minRes = float('inf')
        # è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
        pre = None

        while root or stack:
            # ä¸€ç›´å‘å·¦å­æ ‘èµ°ï¼Œæ¯ä¸€æ¬¡å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­
            if root:
                stack.append(root)
                root = root.left
            # å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯æ˜èµ°åˆ°äº†æœ€å·¦è¾¹ï¼Œä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹
            # å¼€å§‹å¯¹å³å­æ ‘é‡å¤ä¸Šè¿°è¿‡ç¨‹
            else:
                cur = stack.pop()
                # æ±‚æœ€å°ç»å¯¹å·®
                if pre:
                    minRes = min(cur.val - pre.val, minRes)
                pre = cur
                root = cur.right
        return minRes
```

## Java ä»£ç å®ç°

* Java

```Java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int getMinimumDifference(TreeNode root) {
        Stack<TreeNode> stack = new Stack<TreeNode>();
        // è®°å½•æœ€å°å€¼
        int minRes = Integer.MAX_VALUE;
        // è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
        TreeNode pre = null;
        while(stack.size() > 0 || root != null){
            // ä¸€ç›´å‘å·¦å­æ ‘èµ°ï¼Œæ¯ä¸€æ¬¡å°†å½“å‰èŠ‚ç‚¹ä¿å­˜åˆ°æ ˆä¸­
            if(root != null){
                stack.add(root);
                root = root.left;
            }
            // å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œè¯æ˜èµ°åˆ°äº†æœ€å·¦è¾¹ï¼Œä»æ ˆä¸­å¼¹å‡ºèŠ‚ç‚¹
            // å¼€å§‹å¯¹å³å­æ ‘é‡å¤ä¸Šè¿°è¿‡ç¨‹
            else{
                TreeNode cur = stack.pop();
                // åˆ¤æ–­åºåˆ—æ˜¯å¦æœ‰åº
                if(pre != null){
                    minRes = Math.min(cur.val - pre.val, minRes);
                }
                pre = cur;
                root = cur.right;
            }
        }
        return minRes;
    }
}
```

åŒæ ·ï¼Œéé€’å½’ç‰ˆçš„è§£æ³•**æ—¶é—´å¤æ‚åº¦ä¸º** **O(n)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n)**ã€‚

---

**å›¾è§£äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®**åˆ°è¿™å°±ç»“æŸè¾£ï¼Œåˆæå®šäº†ä¸€é“é¢˜ï¼Œæ˜¯ä¸æ˜¯è´¼å¼€å¿ƒï¼Ÿ

è¿˜æ˜¯é‚£å¥è¯ï¼ŒæŒæ¡äº†äºŒå‰æœç´¢æ ‘çš„æ€§è´¨å°±æŒæ¡äº†è§£é¢˜å¯†ç ï¼ŒçœŸæ˜¯æœ‰æ„æ€çš„äºŒå‰æœç´¢æ ‘ï¼

## å†™åœ¨æœ€å

**å¦‚æœä½ è§‰å¾—æœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ°å‘€**

ä¹Ÿæ¬¢è¿ä½ ç‚¹å‡»[**å…³æ³¨æˆ‘**](https://cdn.codegoudan.com/img/gzgzhbcwqlgd0-1.png)ï¼Œè§£é”æ›´å¤šå›¾è§£ LeetCodeï¼Œä¸€èµ·ç©è½¬æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼

æˆ‘æ˜¯å¸…è›‹ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§ï¼

<br />

[æ¨èé˜…è¯» ğŸ‘ï¼šACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘](https://mp.weixin.qq.com/s/l8jwYfaUuV5ZjFH8CMNw9A)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACMé€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æœç´¢æ ‘](https://mp.weixin.qq.com/s/DsWb4oXeOWsCRiuPRwJysg)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å›¾è§£ LeetCode éªŒè¯äºŒå‰æœç´¢æ ‘](https://mp.weixin.qq.com/s/I8kEYkfzLe7Tdqbr9Nqang)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å›¾è§£ LeetCode äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢](https://mp.weixin.qq.com/s/tC3RwcEXBCub_FP0KqquSg)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å¸¦ä½ ç©è½¬äºŒå‰æ ‘å±‚æ¬¡éå†](https://mp.weixin.qq.com/s/3MMgFtLW9BHpguUkHICLkQ)

[**æ¨èé˜…è¯»** ğŸ‘ï¼šACM é€‰æ‰‹å¸¦ä½ ç©è½¬æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦](https://mp.weixin.qq.com/s/Q3LUNACtC8G-x4EMtPGRHA)
